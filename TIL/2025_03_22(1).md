# 03.22 TIL(1)

ë‚ ì§œ: 2025ë…„ 3ì›” 22ì¼
ê³¼ëª©: Design Pattern
ìœ í˜•: ê°œì¸ê³µë¶€
ìƒíƒœ: Done

### ì°¸ê³ 

[ğŸ’  ì „ëµ(Strategy) íŒ¨í„´ - ì™„ë²½ ë§ˆìŠ¤í„°í•˜ê¸°](https://inpa.tistory.com/entry/GOF-%F0%9F%92%A0-%EC%A0%84%EB%9E%B5Strategy-%ED%8C%A8%ED%84%B4-%EC%A0%9C%EB%8C%80%EB%A1%9C-%EB%B0%B0%EC%9B%8C%EB%B3%B4%EC%9E%90)

### ì „ëµ íŒ¨í„´ (Strategy Pattern)

- ê°ì²´ì§€í–¥ í”„ë¡œê·¸ë˜ë°ì˜ ë””ìì¸ íŒ¨í„´ ì¤‘ í•˜ë‚˜
  - **í–‰ë™ íŒ¨í„´(Behavior Pattern)ì— ì†í•¨.**
  - ì•Œê³ ë¦¬ì¦˜ êµ°ì„ ì •ì˜í•˜ê³  ê°ê° ìº¡ìŠí™”í•˜ì—¬ (ê°ì²´ ë™ì‘ì„) ì‹¤ì‹œê°„ìœ¼ë¡œ êµì²´ ê°€ëŠ¥í•˜ê²Œ ë§Œë“œëŠ” íŒ¨í„´

![ì´ë¯¸ì§€ ì„¤ëª…](./image/03_22/image.png)

- ì–´ì¼€ í•˜ëŠ” ê±´ë°?
  1. ë™ì¼ ê³„ì—´ì˜ ì•Œê³ ë¦¬ì¦˜êµ°ì„ ì •ì˜ â†’ **ì „ëµ êµ¬í˜„ì²´ë¡œ ì •ì˜**
  2. ê°ê°ì˜ ì•Œê³ ë¦¬ì¦˜ì„ ìº¡ìŠí™”í•˜ì—¬ â†’ ì¸í„°í˜ì´ìŠ¤ë¡œ ì¶”ìƒí™”
  3. ì´ë“¤ì„ ìƒí˜¸ êµí™˜ì´ ê°€ëŠ¥í•˜ë„ë¡ ë§Œë“ ë‹¤. â†’ í•©ì„±(composition)ìœ¼ë¡œ êµ¬ì„±
  4. ì•Œê³ ë¦¬ì¦˜ì„ ì‚¬ìš©í•˜ëŠ” í´ë¼ì´ì–¸íŠ¸ì™€ ìƒê´€ì—†ì´ ë…ë¦½ì ìœ¼ë¡œ â†’ ì»¨í…ìŠ¤íŠ¸ ê°ì²´ ìˆ˜ì • ì—†ì´
  5. ì•Œê³ ë¦¬ì¦˜ì„ ë‹¤ì–‘í•˜ê²Œ ë³€ê²½í•  ìˆ˜ ìˆê²Œ í•œë‹¤. â†’ ë©”ì†Œë“œë¥¼ í†µí•´ ì „ëµ ê°ì²´ë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ ë³€ê²½í•¨ìœ¼ë¡œì¨ ì „ëµì„ ë³€ê²½
- **êµ¬ì„± ìš”ì†Œ**

  - **ì „ëµ ì•Œê³ ë¦¬ì¦˜ ê°ì²´ë“¤** : ì•Œê³ ë¦¬ì¦˜, í–‰ìœ„, ë™ì‘ì„ ê°ì²´ë¡œ ì •ì˜í•œ êµ¬í˜„ì²´
  - **ì „ëµ ì¸í„°í˜ì´ìŠ¤** : ëª¨ë“  ì „ëµ êµ¬í˜„ì œì— ëŒ€í•œ ê³µìš© ì¸í„°í˜ì´ìŠ¤
  - **ì»¨í…ìŠ¤íŠ¸(Context)** : ì•Œê³ ë¦¬ì¦˜ì„ ì‹¤í–‰í•´ì•¼ í•  ë•Œë§ˆë‹¤ í•´ë‹¹ ì•Œê³ ë¦¬ì¦˜ê³¼ ì—°ê²°ëœ ì „ëµ ê°ì²´ì˜ ë©”ì†Œë“œë¥¼ í˜¸ì¶œ.
  - **í´ë¼ì´ì–¸íŠ¸** : íŠ¹ì • ì „ëµ ê°ì²´ë¥¼ ì»¨í…ìŠ¤íŠ¸ì— ì „ë‹¬ í•¨ìœ¼ë¡œì¨ ì „ëµì„ ë“±ë¡í•˜ê±°ë‚˜ ë³€ê²½í•˜ì—¬ ì „ëµ ì•Œê³ ë¦¬ì¦˜ì„ ì‹¤í–‰í•œ ê²°ê³¼ë¥¼ ëˆ„ë¦°ë‹¤.

    [https://inpa.tistory.com/entry/GOF-ğŸ’ -ì „ëµStrategy-íŒ¨í„´-ì œëŒ€ë¡œ-ë°°ì›Œë³´ì](https://inpa.tistory.com/entry/GOF-%F0%9F%92%A0-%EC%A0%84%EB%9E%B5Strategy-%ED%8C%A8%ED%84%B4-%EC%A0%9C%EB%8C%80%EB%A1%9C-%EB%B0%B0%EC%9B%8C%EB%B3%B4%EC%9E%90)

### ì „ëµ íŒ¨í„´ì„ ì ìš©í•˜ì§€ ì•Šì€ ê²½ìš°

- ì•„ë˜ ì½”ë“œì˜ ë¬¸ì œ
  - ìƒˆë¡œìš´ í• ì¸ ì •ì±…ì„ ì¶”ê°€í•  ë•Œ `calculateDiscount()` ë©”ì„œë“œë¥¼ ìˆ˜ì •í•´ì•¼í•¨.
  - OCP ìœ„ë°˜

```java
public class DiscountService {
		public enum DiscountType {
				FIXED, PERCENT, NONE
		}

		private DiscountType discountType;

		public DiscountService(DiscountType discountType) {
				this.discountType = discountType;
		}

		public int calculateDiscount(int price) {
				if (discountType == DiscountType.FIXED) {
						return price - 1000;
				} else if (discountType == DiscountType.PERCENT) {
						return price - (price * 10 / 100);
				} else {
						return price;
				}
		}
}
```

### ì „ëµ íŒ¨í„´ì„ ì ìš©í•œ ê²½ìš°

```java
// ì „ëµ ì¸í„°í˜ì´ìŠ¤
public interface DiscountStrategy {
    int applyDiscount(int price);
}

// êµ¬ì²´ì ì¸ ì „ëµ 1: ê³ ì • í• ì¸
public class FixedDiscountStrategy implements DiscountStrategy {
    private int discountAmount = 1000;

    @Override
    public int applyDiscount(int price) {
        return price - discountAmount;
    }
}

// êµ¬ì²´ì ì¸ ì „ëµ 2: í¼ì„¼íŠ¸ í• ì¸
public class PercentDiscountStrategy implements DiscountStrategy {
    private int discountPercent = 10;

    @Override
    public int applyDiscount(int price) {
        return price - (price * discountPercent / 100);
    }
}

// êµ¬ì²´ì ì¸ ì „ëµ 3: í• ì¸ ì—†ìŒ
public class NoDiscountStrategy implements DiscountStrategy {
    @Override
    public int applyDiscount(int price) {
        return price;
    }
}

// ì»¨í…ìŠ¤íŠ¸
public class DiscountService {
    private DiscountStrategy discountStrategy;

    public void setDiscountStrategy(DiscountStrategy discountStrategy) {
        this.discountStrategy = discountStrategy;
    }

    public int calculateDiscount(int price) {
        return discountStrategy.applyDiscount(price);
    }
}

// ì‚¬ìš© ì˜ˆì‹œ
public class Main {
    public static void main(String[] args) {
        DiscountService discountService = new DiscountService();
        int price = 10000;

        // ê³ ì • í• ì¸ ì ìš©
        discountService.setDiscountStrategy(new FixedDiscountStrategy());
        System.out.println("ê³ ì • í• ì¸ í›„ ê°€ê²©: " + discountService.calculateDiscount(price));

        // í¼ì„¼íŠ¸ í• ì¸ ì ìš©
        discountService.setDiscountStrategy(new PercentDiscountStrategy());
        System.out.println("í¼ì„¼íŠ¸ í• ì¸ í›„ ê°€ê²©: " + discountService.calculateDiscount(price));
    }
}
```

- ë§Œì•½ ìƒˆë¡œìš´ í• ì¸ ì „ëµì´ ì¶”ê°€ëœë‹¤ë©´?
  - ê¸°ì¡´ ì½”ë“œë¥¼ ìˆ˜ì •í•  í•„ìš”ê°€ ì—†ìŒ.

```java
// ìƒˆë¡œìš´ êµ¬ì²´ì ì¸ ì „ëµ: íšŒì› ë“±ê¸‰ë³„ í• ì¸
public class MembershipDiscountStrategy implements DiscountStrategy {
    private String membershipLevel;

    public MembershipDiscountStrategy(String membershipLevel) {
        this.membershipLevel = membershipLevel;
    }

    @Override
    public int applyDiscount(int price) {
        if ("GOLD".equals(membershipLevel)) {
            return price - (price * 15 / 100); // 15% í• ì¸
        } else if ("SILVER".equals(membershipLevel)) {
            return price - (price * 10 / 100); // 10% í• ì¸
        } else {
            return price - (price * 5 / 100);  // 5% í• ì¸
        }
    }
}
```

### ì¥ì ?

- ê¸°ì¡´ ì½”ë“œ ìˆ˜ì • ì—†ì´ ìƒˆë¡œìš´ í• ì¸ ì „ëµì„ ì¶”ê°€í•  ìˆ˜ ìˆìŒ (OCP ë§Œì¡±)
- ê° ì „ëµì€ ìì‹ ì˜ ë¡œì§ì—ë§Œ ì§‘ì¤‘í•¨ (SRP ë§Œì¡±)
- ëŸ°íƒ€ì„ì— í• ì¸ ì •ì±…ì„ ìœ ì—°í•˜ê²Œ ë°”ê¿€ ìˆ˜ ìˆìŒ
- í…ŒìŠ¤íŠ¸ ìš©ì´ì„±ì´ ì¦ê°€í•¨

### ì˜ˆì œ

![ì´ë¯¸ì§€ ì„¤ëª…](./image/03_22/image1.png)

ì´ê±°ë¥¼

![ì´ë¯¸ì§€ ì„¤ëª…](./image/03_22/image2.png)
