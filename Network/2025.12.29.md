### 데이터 링크 계층

**스패닝 트리 프로토콜**

- 네트워크에서 발생할 수 있는 루프 현상을 방지하기 위한 프로토콜이다.
- 루프 현상 데이터 패킷이 네트워크에서 무한히 순환하는 현상을 말한다. (= Broadcasting Storm)
  - 이 경우 다운 / 고장이 난다.
- 이를 방지하기 위해, 스위치들끼리 정보를 교환해 효율적인 통신 경로를 구성한다.
  - 이때 생성되는 통신 경로는 트리 구조를 띄며, ‘스패닝 트리’라고 한다.
- STP 알고리즘의 경우 간단히 요약하면 루프 감지 시 논리적으로 경로를 차단하는 것이다.

<br>

**이더넷**

> LAN에서 가장 널리 사용되는 데이터링크 프로토콜 중 하나.

- IEEE 802.3 표준
  - 유선 LAB 기술의 표준을 정의
  - 데이터 전송 속도, 프레임 구조, 매체 종류 표준화 → 호환성 유지
- MAC 주소를 사용해 네트워크 상의 장치들을 식별
- CSMA/CD를 사용했으나 현재는 거의 사용되지 않음.

<br>

**이더넷 프레임**

> 주소 개념이 이제 등장한다.

- 물리계층 헤더
  - Preamble
  - SFD
- 이더넷헤더
  - DA(Destination MAC Address): 목적지 MAC 주소(6)
  - SA(Source MAC Address): 출발지 MAC 주소(6)
  - Len/Type: 길이 또는 타입(2) → 상위계층에서 뭐가 내려오는 건지
- Payload: 46 ~ 1500 byte의 데이터가 담겨있는 부분
  - 상위 계층 데이터가 46바이트보다 작을 경우, 이더넷 프레임 규격을 만족하기 위해 0으로 패딩(padding)하여 채움
- Frame Trailer: FCS

<br>

**MTU**

- 네트워크에서 한 번에 전송 가능한 데이터 패킷의 최대 크기를 나타내는 개념
- Maximum Transmission Unit를 초과하는 크기의 데이터는 작은 패킷으로 분할되어 전송된다.
- 수신자는 이러한 작은 패킷을 받아 원래의 큰 데이터로 조립
- 1500바이트가 표준 MTU

<br>

**LLC**

- Logical Link Control
- 상위의 LLC 부계층
  - 여러 다양한 MAC 부계층과 네트워크 계층(Layer 3)간의 접속 담당
- 하위의 MAC 부계층
  - 물리 계층 상의 토폴로지나 기타 특성에 맞춰주는 제어 담당
  - CSMA/CD, Token Ring, Token Bus…

<br>

**Wi-Fi**

- Wireless Fidelity
- 무선 네트워킹 기술로, IEEE 802.11 표준에 따라 개발됨
- 2.4GHz, 5GHz
  - 전자가 느린데, 장애물 영향을 덜 받고, 넓은 범위를 커버한다.
- 보안
  - Wi-Fi 0: WEP 보안
  - Wi-Fi 1 ~ 5: WPA2
  - Wi-Fi 6 ~ 7: WPA3

<br>

**VLAN**

- Virtual Local Area Network
- **물리적으로 분리되지 않은 네트워크 장치들을 broadcast Domain을 논리적으로 그룹화하여 독립된 네트워크를 생성하는 기술**
  - 이를 통해 네트워크 트래픽을 관리하고 보안을 강화할 수 있다.
- VLAN은 스위치 내에서 설정되며, 각 VLAN에 속한 장치들은 서로 다른 VLAN에 속한 장치들과는 통신이 제한된다.
- **802.1Q**
  - VLAN을 구현하기 위한 IEEE 표준
  - 이 표준은 패킷 정보에 4바이트의 VLAN 태그를 추가하여 VLAN을 식별
    - VLAN 태그
      - VLAN ID
      - 스위치는 이 정보를 이용해 패킷을 적절한 VLAN으로 라우팅

---

### 네트워크 계층

<br>

**개요**

- 데이터 패킷의 전송 경로를 결정하는 역할
- 주요 프로토콜: IP

<br>

**Routed Protocol**

> 네트워크 환경에서 라우팅 테이블을 기반으로 데이터 패킷을 전송하는 통신 규약

- etc: IPv4, IPv6…
- 호스트 간의 통신을 가능학 ㅔ하며, 라우터는 이 프로토콜을 사용해 패킷을 적절한 경로로 전송한다.

<br>

**Routing Protocol**

- 네트워크 연결 정보를 공유하여 라우팅 테이블을 구축하고 유지하는 프로토콜
- 이를 통해 서로 연결 정보를 교환하고, 이를 바탕으로 최적 경로를 계산하여 라우팅 테이블을 업데이트한다.
  - etc: OSPF, RIP, BGP

<br>

**라우터**

- 네트워크 간에 데이터 패킷을 전송하는 네트워크 장치
- 패킷의 위치를 추출하여, 그 위치에 대한 최적의 경로를 지정
  - 경로를 따라 데이터 패킷을 다음 장치로 전달
- IP 주소를 보고 일을 한다.
- 라우터 = 공유기
- L3 스위치를 제외하고, 스위치는 MAC 주소를, 라우터는 IP 주소를 보고 일을 한다.

<br>

**라우팅 테이블**

> 라우터가 목적지까지의 경로를 결정하기 위해 사용하는 정보를 담고 있는 테이블이다.

<br>

**Gateway**

- 네트워크에서 한 시스템이 다른 네트워크로 데이터를 전송하는 데 사용되는 중요한 장치
- 일반적으로 게이트웨이는 라우터의 역할을 하며, 서로 다른 네트워크 간의 통신을 중계
- 라우팅 테이블에는 목적지 네트워크로의 패킷 전송 시 해당하는 게이트웨이의 주소가 기록된다.

<br>

**IP 주소**

- Internet Protocol
  - 두 장치 간의 패킷 전송을 담당
- 네트워크에 연결된 각 장치를 고유하게 식별하는 데 사용됨.
  - 이 주소를 기반으로 데이터 패킷이 목적지까지 전달된다.
- 사용자가 변경할 수 있는 ‘논리적’ 주소이며, 네트워크 주소 / 호스트 주소로 구성된다.
- 사용할 수 없는 주소
  - 호스트 주소: 네트워크 자체를 지칭
  - 브로드캐스트용 주소: 마지막 주소

<br>

**IP 클래스**

- IP주소는 네트워크 규모에 따라 A~E 클래스로 나뉨
  - IPv4의 IP주소는 32비트이며, 네트워크 크기는 클래스로 구분
  - A: 8, B: 16, C: 24

| **클래스**       | **구분법 (2진수)** | **첫 번째 숫자 범위(10진수)** | **구조 (네트워크 : 호스트)** | **기본 서브넷 마스크** | **최대 호스트 수(사용 가능 IP)** | **용도**         |
| ---------------- | ------------------ | ----------------------------- | ---------------------------- | ---------------------- | -------------------------------- | ---------------- |
| **A**            | `0`...             | **0 ~ 127**                   | **N**. H . H . H             | `255.0.0.0` (/8)       | 약 1,600만 개                    | 초대형 네트워크  |
| (국가, 대기업)   |
| **B**            | `10`...            | **128 ~ 191**                 | **N . N**. H . H             | `255.255.0.0` (/16)    | 약 65,000 개                     | 중대형 네트워크  |
| (학교, 병원)     |
| **C**            | `110`...           | **192 ~ 223**                 | **N . N . N**. H             | `255.255.255.0` (/24)  | 254 개                           | 소규모 네트워크  |
| (가정, PC방)     |
| **D**            | `1110`...          | **224 ~ 239**                 | (구조 없음)                  | (없음)                 | (없음)                           | **멀티캐스트용** |
| (방송, 그룹통신) |
| **E**            | `1111`...          | **240 ~ 255**                 | (구조 없음)                  | (없음)                 | (없음)                           | **연구/예비용**  |
| (군사, 실험)     |

<br>

**서브넷**

- IP 주소에서 네트워크 영역을 부분적으로 세분화 한 네트워크
- 이때 서브넷을 만들 때 사용되는 것이 ‘서브넷 마스크’
  - IP 주소 체계의 네트워크 ID, Host ID를 분리하는 역할을 한다.
  - 이는 곧 네트워크 대역폭을 나눠 효율적으로 IPv4 주소가 관리되도록 한다.
- 서브넷 마스크
  - IP 주소의 네트워크 주소, 호스트 주소인지를 결정하는 데 사용
  - IP 주소와 동일한 형식을 가지며, 네트워크 부분에는 모두 1이, 호스트 부분에는 모두 0이 할당된다.

<br>

**CIDR**

- Classless Inter-Domain Routing
  - 유연한 IP 주소 할당을 목적으로
- 슬래시 뒤에 오는 숫자는 네트워크 부분의 비트 수를 나타냄
  - 192.168.15.0/24

<br>

**VLSM**

- Variable Length Subnet Masking
- 서브넷 마스크의 길이를 가변적으로 조정하여 IP 주소 공간을 효율적으로 사용할 수 있게 하는 기술.
  - 다양한 크기의 서브넷을 생성할 수 있다.
